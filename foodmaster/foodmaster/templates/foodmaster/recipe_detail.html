{% extends 'foodmaster/base.html' %}

{% block title %}Food Master - {{ recipe.name|default:"Spaghetti Carbonara" }}{% endblock %}

{% block content %}
<div class="wireframe-section">
  <div class="wireframe">
    <div class="navbar">
      <div class="logo">Food Master</div>
      <div class="search-bar">Search for recipes...</div>
      <div class="nav-menu">
        <div class="nav-link">Home</div>
        <div class="nav-link">Discover</div>
        <div class="nav-link active">Cook&Home</div>
        <div class="nav-link">Social</div>
        <div class="nav-link">Saved</div>
      </div>
      <div class="user-menu">
        <div class="user-avatar">üë§</div>
      </div>
    </div>
    
    <div class="recipe-detail">
      <div class="recipe-image">
        [Recipe Image]
      </div>
      
      <div class="recipe-content">
        <h2>{{ recipe.name|default:"Spaghetti Carbonara" }}</h2>
        <div style="margin-bottom: 20px;">
          <span>{{ recipe.cuisine|default:"Italian" }} ‚Ä¢ {{ recipe.time|default:"25 min" }} ‚Ä¢ {{ recipe.difficulty|default:"Easy" }} ‚Ä¢ </span>
          <span>‚≠ê {{ recipe.rating|default:"4.8" }} ({{ recipe.reviews|default:"156" }} reviews)</span>
        </div>
        
        <div style="display: flex; gap: 10px; margin-bottom: 30px;">
          <button class="btn btn-primary">Add to Shopping List</button>
          <button class="btn btn-secondary">Save Recipe</button>
          <button class="btn btn-secondary">Share</button>
        </div>
        
        <div style="display: flex; gap: 20px; margin-bottom: 30px;">
          <div style="flex: 1; padding: 15px; background-color: #f9f9f9; border-radius: 8px; text-align: center;">
            <div style="font-weight: bold;">Prep Time</div>
            <div>{{ recipe.prep_time|default:"10 min" }}</div>
          </div>
          <div style="flex: 1; padding: 15px; background-color: #f9f9f9; border-radius: 8px; text-align: center;">
            <div style="font-weight: bold;">Cook Time</div>
            <div>{{ recipe.cook_time|default:"15 min" }}</div>
          </div>
          <div style="flex: 1; padding: 15px; background-color: #f9f9f9; border-radius: 8px; text-align: center;">
            <div style="font-weight: bold;">Servings</div>
            <div id="servings-count">{{ recipe.servings|default:"4" }}</div>
          </div>
        </div>
        
        <div class="tabs">
          <div class="tab active">Ingredients</div>
          <div class="tab">Instructions</div>
          <div class="tab">Nutrition</div>
          <div class="tab">Reviews</div>
        </div>
        
        <div class="ingredient-list">
          <h3>Ingredients</h3>
          <p>Adjust servings: 
            <button style="width: 30px; height: 30px; border-radius: 50%; border: 1px solid #ddd; background: white;" id="decrease-servings">-</button>
            <span style="margin: 0 10px;" id="servings-display">{{ recipe.servings|default:"4" }}</span>
            <button style="width: 30px; height: 30px; border-radius: 50%; border: 1px solid #ddd; background: white;" id="increase-servings">+</button>
          </p>
          
          {% if recipe.ingredients %}
            {% for ingredient in recipe.ingredients %}
            <div class="ingredient-item">
              <div>{{ ingredient.amount }} {{ ingredient.name }}</div>
              <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">Add</button>
            </div>
            {% endfor %}
          {% else %}
            <div class="ingredient-item">
              <div>400g spaghetti</div>
              <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">Add</button>
            </div>
            <div class="ingredient-item">
              <div>200g pancetta or guanciale, diced</div>
              <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">Add</button>
            </div>
            <div class="ingredient-item">
              <div>4 large eggs</div>
              <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">Add</button>
            </div>
            <div class="ingredient-item">
              <div>50g Pecorino Romano cheese, grated</div>
              <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">Add</button>
            </div>
            <div class="ingredient-item">
              <div>50g Parmesan cheese, grated</div>
              <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">Add</button>
            </div>
            <div class="ingredient-item">
              <div>Freshly ground black pepper</div>
              <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">Add</button>
            </div>
            <div class="ingredient-item">
              <div>Salt, to taste</div>
              <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">Add</button>
            </div>
          {% endif %}
          
          <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">Add All to Shopping List</button>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const decreaseBtn = document.getElementById('decrease-servings');
    const increaseBtn = document.getElementById('increase-servings');
    const servingsDisplay = document.getElementById('servings-display');
    const servingsCount = document.getElementById('servings-count');
    
    decreaseBtn.addEventListener('click', function() {
      let count = parseInt(servingsDisplay.textContent);
      if (count > 1) {
        count--;
        servingsDisplay.textContent = count;
        servingsCount.textContent = count;
      }
    });
    
    increaseBtn.addEventListener('click', function() {
      let count = parseInt(servingsDisplay.textContent);
      count++;
      servingsDisplay.textContent = count;
      servingsCount.textContent = count;
    });
    
    // Tab functionality
    const tabs = document.querySelectorAll('.tab');
    tabs.forEach(tab => {
      tab.addEventListener('click', function() {
        tabs.forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        // In a real app, you would show/hide content based on the selected tab
      });
    });
  });
</script>
{% endblock %}